// image enhancement and segmentation
import numpy as np
import cv2 as cv
from matplotlib import pyplot as plt

#histogram equalization #this function will insert the photos we have(will be included) basically I use the function plt.hist(which will create a histogram and create a 2d array
#it will then turn that 2d array into a flattened array that is contigious, after it will print the image as a histogram model
img = cv.imread('rose.webp', cv.IMREAD_GRAYSCALE)
assert img is not None, "file could not be read, check with os.path.exists()"
plt.hist(img.ravel(), 256, [0, 256]);
plt.show()

//smoothing 
#this function reads and img and creates a kernel and np.ones which will return an array of the img, and fill it with ones(white)
# we then used the function cv.filter2d, which will filter the image.
#we also have a function that can blur the image as well and 
import numpy as np
import cv2 as cv
from matplotlib import pyplot as plt

img = cv.imread('opencv.png')
assert img is not None, "file could not be read, check with os.path.exists()"

kernel = np.ones((5, 5), np.float32) / 25
dst = cv.filter2D(img, -1, kernel)
blur = cv.blur(img,(5,5))
gblur = cv.GaussianBlur(img,(5,5),0)


cv.imshow("Original Image", img)
cv.imshow("dst", dst)
cv.imshow("Blur image", blur)
cv.imshow("gaussian blur", gblur)

cv.waitKey(0)
cv.destroyAllWindows()

//contours with area
#this function will display the photo first, then after it is done will calculate what is happening in photo in which if is the white are it will return 2 to the photo but
#if it calculates the black space, it will return zero
import numpy as np
import cv2 as cv
import sys

img = cv.imread('rose.webp')

if img is None:
    sys.exit("Could not read the image.")

cv.imshow("Display window", img)
k = cv.waitKey(0)

if k == ord("s"):
    cv.imwrite("rose.webp", img)
img = cv.imread('rose.webp', cv.IMREAD_GRAYSCALE)
assert img is not None, "file could not be read, check with os.path.exists()"
ret, thresh = cv.threshold(img, 175, 255, 0)
contours, hierarchy = cv.findContours(thresh, 1, 2)
#I believe what this doing is taking the area of the white parts of the image in which you will get 2 or 0 2 for tbe white and 0 for black
cnt = contours[0]
M = cv.contourArea(cnt)

print(M)

//2D Histogram
#
import numpy as np
import cv2 as cv
from matplotlib import pyplot as plt

img = cv.imread('city.png')
assert img is not None, "file could not be read, check with os.path.exists()"
hsv = cv.cvtColor(img, cv.COLOR_BGR2HSV)
hist = cv.calcHist([hsv], [0, 1], None, [180, 256], [0, 180, 0, 256])

plt.imshow(hist, interpolation='nearest')
plt.show()

//image segmentation with watershed algorithm
import numpy as np
import cv2 as cv
from matplotlib import pyplot as plt

img = cv.imread('star.jpg')
assert img is not None, "file could not be read, check with os.path.exists()"
gray = cv.cvtColor(img,cv.COLOR_BGR2GRAY)
ret, thresh = cv.threshold(gray,0,255,cv.THRESH_BINARY_INV+cv.THRESH_OTSU)
kernel = np.ones((3,3),np.uint8)
opening = cv.morphologyEx(thresh,cv.MORPH_OPEN,kernel, iterations = 2)

cv.imshow("Original Image", img)
cv.imshow("Grayscale Image", gray)
cv.imshow("Threshold Image", thresh)

# Wait for a key press and close all windows
cv.waitKey(0)
cv.destroyAllWindows()
